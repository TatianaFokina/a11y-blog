<!DOCTYPE html><html class="page" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Разбираемся в критериях про видимость элементов в фокусе из WCAG 2.2. Посмотрим на примеры с барьерами и без. В конце попробуем понять, как это всё тестировать."><link rel="canonical" href="https://a11y-blog.dev/en/articles/wcag-focus-not-obscured/index-1/"><link rel="alternate" href="https://a11y-blog.dev" hreflang="x-default"><link rel="alternate" href="https://a11y-blog.dev/ru/" hreflang="ru"><link rel="alternate" href="https://a11y-blog.dev/en/" hreflang="en-US"><title>Фокус не перекрыт — Blog on Digital Accessibility</title><link rel="alternate" hreflang="en" href="https://a11y-blog.dev/en/articles/wcag-focus-not-obscured/index-1/"><meta property="og:type" content="website"><meta property="og:url" content="https://a11y-blog.dev/en/articles/wcag-focus-not-obscured/index-1/"><meta property="og:title" content="Фокус не перекрыт"><meta property="og:description" content="Разбираемся в критериях про видимость элементов в фокусе из WCAG 2.2. Посмотрим на примеры с барьерами и без. В конце попробуем понять, как это всё тестировать."><meta property="og:image" content="https://a11y-blog.dev/en/articles/wcag-focus-not-obscured/index-1/images/cover.png"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://a11y-blog.dev/en/articles/wcag-focus-not-obscured/index-1/"><meta name="twitter:title" content="Фокус не перекрыт"><meta name="twitter:description" content="Разбираемся в критериях про видимость элементов в фокусе из WCAG 2.2. Посмотрим на примеры с барьерами и без. В конце попробуем понять, как это всё тестировать."><meta name="twitter:site" content="https://a11y-blog.dev/en/articles/wcag-focus-not-obscured/index-1/"><meta name="twitter:image" content="https://a11y-blog.dev/en/articles/wcag-focus-not-obscured/index-1/images/cover.png"><script type="application/ld+json">{
			"@context": "https://schema.org",
			"@type": "Article",
			"headline": "Фокус не перекрыт",
			"description": "Разбираемся в критериях про видимость элементов в фокусе из WCAG 2.2. Посмотрим на примеры с барьерами и без. В конце попробуем понять, как это всё тестировать.",
			"keywords": "WCAG, Клавиатура",
			"image": "og-image-en.png",
			"author": {
				"@type": "Person",
				"name": "Tatiana Fokina",
				"url": "https://www.linkedin.com/in/tatiana-fokina-frontend/"
			},
			"publisher": {
				"@type": "Organization",
				"name": "Tatiana Fokina",
				"url": "https://www.linkedin.com/in/tatiana-fokina-frontend/",
				"logo": {
					"@type": "ImageObject",
					"url": "og-image-en.png"
				}
			},
			"datePublished": "2025-06-27T00:00:00.000Z",
			"dateModified": "2025-06-27T00:00:00.000Z"
		}</script><script defer="" src="/scripts/bundle.js"></script><link rel="stylesheet" href="/styles/styles.css"><link rel="icon" sizes="32x32" href="/assets/favicons/favicon.ico" type="image/png"><link rel="icon" href="/assets/favicons/icon.svg" type="image/svg+xml"><link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png"><link rel="manifest" href="/manifest.json"><link rel="alternate" type="application/rss+xml" title="Practical advice on digital accessibility for frontend developers, QA testers and designers. Here you'll learn about methods of creating accessible and user-friendly interfaces, standards, assistive technologies and laws." href="https://a11y-blog.dev/en/feed.xml"></head><body class="base layout" data-theme="light"><header><div class="header wrapper"><nav class="navigation"><a class="logo" href="/en/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 269 198" class="logo__svg"><path class="logo__svg-path" d="M0.360337 128.243C-4.95996 80.963 48.9099 0 143.698 0C198.853 0 240.797 25.5 240.797 80.317C240.797 142 149.515 189.124 98.1198 196C45.7968 203 6.29684 181 0.360337 128.243Z"></path><path fill="currentColor" d="M46.809 170.197c-.354-.256-.548-.581-.583-.976-.034-.394.124-.728.476-1.002 2.826-2.787 5.447-5.136 7.864-7.048.21-.129.445-.205.708-.228.285-.025.548.074.788.296.262.22.407.483.434.79.026.307-.037.588-.192.845-.205.172-2.544 2.21-7.017 6.113.56.348 1.804 1.056 3.73 2.125 1.948 1.066 3.38 1.912 4.297 2.539.2.269.312.536.335.799.02.241-.1.505-.362.793-.264.266-.549.412-.856.439-.284.025-.474.009-.567-.049-.984-.643-2.44-1.509-4.368-2.6-1.907-1.092-3.469-2.037-4.687-2.836Zm22.666-10.695-.588-6.342c-.104-1.183.217-1.808.962-1.873.767-.067 1.223.224 1.369.874.068.281.274 1.997.615 5.147.342 3.15.7 6.1 1.073 8.85.395 2.748.697 5.317.906 7.706.058.657-.407 1.029-1.393 1.115-.658.058-1.027-.374-1.107-1.294-.877.827-1.962 1.298-3.255 1.411-1.644.144-3.035-.353-4.172-1.49-1.116-1.139-1.752-2.607-1.91-4.405-.157-1.797.058-3.505.645-5.124.608-1.643 1.66-2.873 3.156-3.688.928-.501 1.841-.791 2.74-.869.328-.029.648-.035.959-.018Zm.558 4.489c-.195-.468-.413-.814-.654-1.036-.242-.243-.496-.376-.763-.397a3.495 3.495 0 0 0-.896-.021c-.351.031-.767.2-1.248.507s-.871.772-1.17 1.394c-.598 1.245-.839 2.525-.724 3.84.113 1.293.458 2.334 1.035 3.123.597.765 1.367 1.106 2.31 1.023.963-.084 1.678-.621 2.144-1.612.465-.99.634-2.219.505-3.688-.144-1.643-.323-2.688-.539-3.133Zm8.722-10.734c.395-.034.784.12 1.167.461.383.342.593.721.63 1.138.034.394-.128.817-.486 1.268-.336.449-.712.692-1.129.728-.416.037-.815-.105-1.196-.425-.36-.322-.564-.757-.611-1.305-.093-1.052.428-1.672 1.56-1.859l.065-.006Zm2.888 17.106.234 2.298c.037.416-.097.782-.4 1.095-.306.292-.646.454-1.018.487-.548.048-.857-.201-.927-.747-.897-6.967-1.377-10.822-1.443-11.568a45.924 45.924 0 0 1-.14-2.737c.01-.398.244-.617.705-.658 1.161-.101 1.86.312 2.096 1.241.108.477.174.857.2 1.142l.049 2.083.644 7.364Zm16.003-13.458c.307-.027.546.062.719.268.17.184.267.396.288.637l-.004.332c-.716 2.426-1.228 4.392-1.538 5.899a102.326 102.326 0 0 1-.456 2.358c-.088.516-.24 1.424-.458 2.724-.217 1.299-.365 2.14-.442 2.523-.241.772-.745 1.191-1.513 1.258-.372.033-.656-.185-.852-.654-.893-2.13-2.14-4.517-3.74-7.159-1.6-2.643-2.517-4.153-2.748-4.53-.212-.401-.332-.766-.361-1.095-.029-.328.086-.659.344-.99.28-.334.606-.517.979-.55.372-.032.707.137 1.005.509.283.461 1.08 1.749 2.392 3.865 1.333 2.114 2.285 3.786 2.857 5.017.01-.134.063-.414.158-.842.779-3.977 1.446-6.829 2.001-8.556.32-.624.777-.962 1.369-1.014Zm6.243-.348c.241-.021.486.002.735.069.249.066.547.195.895.385.368.167.704.347 1.008.541.324.171.765.419 1.324.746.559.326 1.302.747 2.231 1.262.928.515 2.155 1.291 3.681 2.328.519.374.795.748.827 1.12.031.351-.113.728-.431 1.131l-.54.644c-.18.214-.681.667-1.504 1.357l-.926.777c-.412.345-1.133.938-2.163 1.779a38.709 38.709 0 0 0-2.826 2.533c-.104.075-.309.126-.616.153-.307.027-.614-.079-.922-.317-.286-.24-.443-.513-.47-.82-.028-.329.014-.597.129-.806.984-.859 2.26-1.932 3.826-3.217 1.588-1.287 2.759-2.284 3.515-2.991-.678-.426-1.736-1.029-3.173-1.809a447.403 447.403 0 0 1-4.915-2.783c-.315-.326-.486-.642-.513-.949-.027-.307.039-.567.197-.779.18-.215.39-.333.631-.354Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="4" d="M37.955 129.137c11.424-1 12.098 6.699 23.521 5.7 11.424-1 10.75-8.699 22.175-9.698 11.424-1 12.097 6.699 23.494 5.702 11.424-.999 10.751-8.698 22.148-9.695 11.424-1 12.097 6.699 23.494 5.702 11.424-1 10.751-8.698 22.174-9.698 11.424-.999 12.098 6.7 23.522 5.7 11.423-.999 10.75-8.698 22.174-9.698 11.424-.999 12.097 6.7 23.522 5.7 11.423-.999 10.749-8.698 22.173-9.697"></path><ellipse cx="180.489" cy="89.24" fill="currentColor" rx="8.943" ry="6.686" transform="rotate(-5 180.489 89.24)"></ellipse><path fill="currentColor" stroke="currentColor" stroke-width=".3" d="m213.386 96.552.147-.03-.03-.147-2.457-12.266c-1.117-5.575-6.146-9.14-11.587-8.05-5.47 1.095-8.738 6.323-7.621 11.898l2.457 12.267.03.147.147-.03 3-.6.147-.03-.029-.147-2.458-12.267c-.757-3.78 1.37-7.22 4.987-7.944 3.587-.719 6.875 1.635 7.632 5.416l2.458 12.266.029.148.147-.03 3.001-.601Z"></path><path fill="currentColor" d="M156.169 71.198c8.129.897 13.618 8.104 12.686 16.546l-2.04 18.491-3.708-.409 2.041-18.491c.705-6.388-3.359-11.764-9.389-12.43-6.074-.67-11.212 3.691-11.917 10.079l-2.04 18.491-3.708-.409 2.041-18.492c.931-8.441 7.86-14.278 16.034-13.376ZM134.393 102.629l.25 2.857-15.127 1.323-.25-2.857 15.127-1.323ZM75.155 101.711c1.307 1.479 2.567 2.607 3.778 3.385 1.209.76 2.192 1.107 2.948 1.041.945-.083 1.944-.352 2.995-.808l.325 3.713c-.82.522-1.961.847-3.422.974-1.564.137-3.112-.238-4.645-1.126-1.515-.889-3.115-2.256-4.8-4.1-1.404 2.166-2.793 3.812-4.167 4.936-1.358 1.106-2.802 1.726-4.331 1.86-1.427.125-2.624.005-3.59-.361l-.326-3.713c.252.1.7.182 1.347.246.646.065 1.158.081 1.537.048.98-.086 1.959-.57 2.938-1.452.995-.901 2.053-2.267 3.174-4.097-2.328-2.065-4.072-3.99-5.233-5.776-1.145-1.805-1.793-3.567-1.943-5.286-.226-2.578.449-4.767 2.023-6.567 1.575-1.8 3.754-2.823 6.538-3.066 2.767-.242 5.082.386 6.945 1.886 1.862 1.482 2.906 3.521 3.133 6.116.29 3.318-1.45 7.367-5.224 12.147ZM92.012 93.013c-1.953.17-3.618-1.227-3.803-3.339-.199-2.27 1.203-3.882 3.156-4.053 1.849-.162 3.615 1.173 3.813 3.444.185 2.112-1.318 3.786-3.166 3.948ZM53.592 96.376c-1.953.17-3.618-1.226-3.803-3.338-.199-2.27 1.203-3.883 3.157-4.054 1.848-.161 3.614 1.174 3.812 3.444.185 2.112-1.318 3.786-3.166 3.948ZM108.182 107.188l-.758-8.662-4.795.42-.336-3.842 4.795-.42-.582-6.651c2.769-1.212 4.902-2.862 6.399-4.95 1.515-2.09 2.164-4.372 1.947-6.847-.373-4.262-2.725-6.204-7.056-5.825-1.22.107-2.489.452-3.806 1.035a13.781 13.781 0 0 0-3.47 2.2l-2.032-3.33c2.508-2.21 5.567-3.474 9.176-3.79 3.523-.308 6.316.33 8.377 1.917 2.078 1.585 3.258 3.984 3.539 7.198.244 2.784-.355 5.443-1.796 7.976-1.424 2.532-3.557 4.676-6.399 6.431l.37 4.228 5.697-.498.336 3.84-5.697.5.757 8.662-4.666.408ZM69.465 66.36c6.824-.597 12.608-.245 17.352 1.054 4.766 1.298 8.247 3.47 10.443 6.516l-4.832.423c-3.871-3.783-11.393-5.186-22.564-4.209-5.226.457-9.65 1.373-13.275 2.746-3.625 1.374-6.24 3.135-7.844 5.285l-4.832.422c1.9-3.456 5.017-6.214 9.353-8.274 4.335-2.076 9.735-3.397 16.199-3.963ZM28.153 101.589l5.697-.498-.37-4.228c-3.141-1.267-5.632-3.014-7.472-5.243-1.84-2.23-2.883-4.736-3.126-7.52-.281-3.214.464-5.782 2.235-7.703 1.772-1.922 4.41-3.036 7.917-3.343 3.627-.317 6.867.395 9.72 2.137l-1.448 3.634c-1.134-.698-2.41-1.218-3.825-1.562-1.399-.345-2.7-.465-3.902-.36-4.314.378-6.285 2.697-5.912 6.96.218 2.492 1.254 4.635 3.108 6.43 1.872 1.793 4.25 3.04 7.134 3.74l.582 6.652 4.795-.42.336 3.841-4.795.42.758 8.662-4.64.406-.759-8.662-5.697.498-.336-3.841Z"></path></svg> <span class="visually-hidden">Blog on Digital Accessibility</span></a><ul class="navigation__list"><li class="navigation__list-item"><a class="navigation__list-item-link" href="/ru/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" class="navigation__list-item-ico" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path><path d="M2 12h20"></path></svg> <span lang="ru">Русский</span></a></li><li class="navigation__list-item"><a class="navigation__list-item-link" href="/en/feed.xml"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" class="navigation__list-item-ico" aria-hidden="true"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg> RSS</a></li></ul></nav><section class="header__switcher" aria-label="Color scheme"><button class="header__switcher-button" aria-pressed="true" value="light">Light</button> <button class="header__switcher-button" aria-pressed="false" value="dark">Dark</button></section></div></header><div class="layout__body wrapper"><main class="layout__main"><header class="article-header"><h1>Фокус не перекрыт</h1><ul class="topics topics--in-article"><li class="card__topic-item">WCAG</li><li class="card__topic-item">Клавиатура</li></ul><div class="article-header__dates"><div class="article-header__dates-item"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" class="article-header__dates-item__ico" aria-hidden="true"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg> <time datetime="2025-06-27T00:00:00.000Z">June 27, 2025</time></div></div></header><div class="article"><p>В Руководстве по доступности веб-контента 2.2 (Web Content Accessibility Guidelines 2.2) появилось восемь новых критериев. Два из них связаны с головной болью пользователей клавиатуры (заодно и сообщества специалистов по доступности) — перекрытием элемента в фокусе другим содержимым. Это критерии <a href="https://www.w3.org/TR/WCAG22/#focus-not-obscured-minimum" rel="noopener">2.4.11: фокус не перекрыт (минимальный)</a> уровня AA и&nbsp;<a href="https://www.w3.org/TR/WCAG22/#focus-not-obscured-enhanced" rel="noopener">2.4.12: фокус не перекрыт (продвинутый)</a> уровня AAA.</p><h2>Коротко о критериях</h2><p>Минимально интерактивные элементы в состоянии фокуса, когда они перекрыты другими, должны быть хотя бы <em>частично</em> видны.</p><p><em>Частично скрытый элемент</em> тот, название и другое смысловое содержимое которого видны хотя бы слегка. Критерий не считает индикатор фокуса вроде обводки вокруг кнопки за часть элемента. Так что, когда кнопка не изменяется в состоянии фокуса, это не проблема с точки зрения критерия 2.4.11.</p><p>Исключения из минимального критерия — открытые пользователем элементы и компоненты, которые можно перемещать по странице (например, путём перетаскивания).</p><p></p><aside class="article__note"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="article__note-icon" aria-hidden="true"><path d="M12 6v12"></path><path d="M17.196 9 6.804 15"></path><path d="m6.804 9 10.392 6"></path></svg><p class="article__note-text"><em>Дропдаун (англ. dropdown)</em> дословно переводится как «выпадающий вниз».</p></aside><p></p><p>Продвинутый критерий 2.4.12 не допускает элементов в фокусе, даже когда их содержание лишь слегка скрыто другим содержимым.</p><h2>Подробнее</h2><p>Многие хоть раз оказывались на сайте с выпадающей навигацией в которой пункты скрыты визуально и, при этом, доступны для навигации с клавиатуры. Эту проблему с навигацией и пытаются предотвратить критерии 2.4.11 и 2.4.12.</p><p>Элементы с клавиатурным фокусом также могут перекрывать:</p><ul><li><p>другие дропдаун-элементы: комбинированные списки, гамбургерное меню, поля для выбора даты.</p></li><li><p>Фиксированные (прилипающие) элементы: хедер, футер, боковая навигация, куки-баннеры.</p></li><li><p>Попапы: сообщения от чат-ботов, уведомления, тултипы и другие всплывающие подсказки.</p></li><li><p>Немодальные и (недо)модальные диалоговые окна без ловушки фокуса: информация о куки или о подписке на рассылку.</p></li><li><p>Элементы с произвольным положением в интерфейсе: стикеры на виртуальной канбан-доске, цветовая палитра в инструменте для дизайнеров.</p><p></p><aside class="article__note"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="article__note-icon" aria-hidden="true"><path d="M12 6v12"></path><path d="M17.196 9 6.804 15"></path><path d="m6.804 9 10.392 6"></path></svg><p class="article__note-text"><em>Куки (англ. cookies)</em>&nbsp;— текстовые файлы, содержащие информацию о пользователе, например, о его браузере или устройстве. Владельцы сайтов собирают эти данные в основном для маркетинговых целей.</p></aside><p></p></li></ul><p>Не все <strong>дропдауны</strong> «плохие». Критерии о перекрытии элемента в фокусе рассматривают два основных случая с дропдаунами. Первый случай — изначально открытый элемент, например, боковое меню с навигацией по сайту. Вторая ситуация — неправильно свёрстанный дропдаун. К примеру, внушительная навигация с подменю, которая открывается с клавиатуры и не закрывается по нажатию на <kbd>Esc</kbd> или другие клавиши.</p><p>Обычно <strong>фиксированная навигация</strong>&nbsp;не соответствует минимальному критерию, если занимает много места на экране. Проблема с фокусом становится особенно заметной при навигации с клавиатуры обратно, к началу страницы.</p><p><strong>Фиксированный баннер с куки</strong> — другой проблемный паттерн дизайна. Особенно рискуют нарушить минимальный критерий баннеры с длинными текстами. Куки-баннеры часто расположены после остального содержимого. Из-за этого пользователям клавиатуры приходится идти в конец страницы, содержимое которой скрыто за баннером, чтобы закрыть сообщение о куки.</p><p><strong>Попапы</strong>&nbsp;тоже могут нарушить минимальный критерий 2.4.11. Вам могли попадаться назойливые тултипы, которые автоматически открываются при фокусе на связанном элементе и до последнего перекрывают часть остального содержимого. Помочь может только обновление страницы.</p><p><strong>Диалоговые окна</strong> — отдельная боль. Большинство открытых по умолчанию немодальных окон, особенно расположенных по центру экрана, нарушат минимальный критерий 2.4.11. Распространённый пример подобных диалогов — настройки куки.</p><p>Критерий 2.4.11 не имеет ничего против модальных окон. Модальный диалог не нарушит критерий, даже если свёрстан не совсем правильно. К примеру, пользователь может проскроллить страницу с модальным диалогом мышкой или другим указателем. Главное, чтобы модалка <em>по-настоящему</em> не давала устанавливать фокус с клавиатуры на элементах за ней.</p><p>Немодальное окно не блокирует основное содержимое страницы. Модальный диалог наоборот не даёт перейти к странице, пока он открыт.</p><p>Особый случай, который описывает 2.4.11, — <strong>элементы с эффектом стекла или с полупрозрачностью</strong>. К примеру, полупрозрачные всплывающие подсказки и фиксированная навигация по сайту.</p><p>Чтобы пройти минимальный 2.4.11, «просвечивающий» компонент должен соответствовать другому критерию <a href="https://www.w3.org/TR/WCAG22/#non-text-contrast" rel="noopener">1.4.11:&nbsp;нетекстовый контраст</a>. Для него проверяют соотношение контраста между цветом интерактивного элемента и фоном наложившегося.</p><p>Представьте полупрозрачный тултип в тексте, который полностью закрывает ссылку из предыдущей строки. В этом случае нужно сравнить цвет ссылки, получившийся после смешения с фоном тултипа, и сам фон всплывающей подсказки.</p><p>Например, цвет ссылки после смешения с фоном — #232323 (ранняя ночь), а фон наложившегося тултипа — #373737 (приглушённый серый). Соотношение контраста между цветами 1.32:1. Это ниже минимального значения для нетекстовых элементов. Таким образом, критерий 2.4.11 провален.</p><p><img src="images/non-text-contrast.png" alt="Пример с полупрозрачным тултипом, который полностью закрыл ссылку в тексте про утконоса."></p><p>В воображаемом примере мы <em>не сравнивали</em> цвет индикатора фокуса. Нам не важен внешний вид индикатора, кроме двух ситуаций:</p><ul><li>если индикатор находится внутри компонента в фокусе;</li><li>когда элемент в состоянии фокуса сильно изменяется.</li></ul><p>К примеру, в случае кнопки с внутренней обводкой сравниваем цвет обводки с фоном наложившегося элемента. Для кнопки, которая при фокусе изменила фон, надо сравнить её новый фоновый цвет с фоном другого элемента.</p><p><img src="images/focus-indicators-contrast.png" alt="Два примера с кнопками, которые скрыты полупрозрачным верхним слоем."></p><p><strong>Перемещающиеся по странице элементы</strong> нарушат минимальный критерий, если с самого начала перекрывают ссылки, кнопки и другие интерактивные элементы интерфейса.</p><h2>Ощущение недосказанности</h2><p>В описании критериев я не нашла ответов на несколько своих вопросов.</p><p>Как проверять ссылки в виде карточек с картинками, заголовками и краткими описаниями? Например, ссылка с текстом и графикой (или только с графикой), у которой видна только часть картинки.</p><p>Что делать со ссылкой в фокусе, когда её текст сливается с фоном страницы, и видна только обводка вокруг? Даже если ссылка перекрыта чем-то ещё частично, мы не видим <em>сам элемент</em>.</p><h2>Кому это важно</h2><p>В первую очередь частично или полностью перекрытые элементы в состоянии фокуса — барьер для <strong>пользователей клавиатур</strong>. Это могут быть как обычные, так и кастомные или экранные типы.</p><p>Элементы в состоянии фокуса также важно видеть <strong>пользователям экранных луп</strong>, которые совмещают их с клавиатурной навигацией. Эта вспомогательная технология позволяет увеличивать отдельные части интерфейса.</p><p>Видеть элементы в фокусе важно и <strong>пользователям альтернативных устройств ввода</strong>. Например, голосового управления или айтрекинга, когда человек управляет курсором глазами.</p><p>Следующая группа — те, кто <strong>пользуется указателями для навигации</strong> (мышки не в счёт). К примеру, стилусами, головными указателями и джойстиками.</p><p>Не забывайте про <strong>пользователей с когнитивными особенностями</strong>, затрагивающими память и внимательность. Например, людей с синдромом дефицита внимания и гиперактивности (СДВГ), постковидным синдромом или травмами головного мозга. Такие пользователи могут чаще других отвлекаться и забывать о текущем положении и последних действиях на странице.</p><h2>Как избежать барьер</h2><p>Самое простое решение — не фиксировать объёмную навигацию в хедере и футере, особенно на маленьких экранах. Вообще, чем больше места занимают подобные элементы, тем больше содержимого они скрывают. Можно сэкономить место, уменьшив прилипающий хедер при прокрутке.</p><p>Следующий помощник — <code>scroll-padding</code>. Это CSS-свойство увеличивает расстояние между фиксированным элементом и остальным содержимым страницы.</p><p>Не злоупотребляйте автоматически открывающимися немодальными окнами и интерфейсными подсказками, которые нельзя просто взять и закрыть с помощью <kbd>Esc</kbd>. Если у вас есть много свободного места по краям страницы, подсказки можно переместить туда.</p><p>Верстайте модальные окна правильно. Не давайте пользователям попасть на страницу, пока они не закроют модалку.</p><p>Чтобы решить проблему с перекрывающим всё на свете сообщением о куки, можно попробовать следующее:</p><ul><li>разместить его в самом начале страницы и вообще не фиксировать;</li><li>показать его в <em>настоящем</em> модальном окне.</li></ul><h2>Примеры соответствия критериям</h2><p>При фокусе на ссылках со страницы статьи из Википедии появляются тултипы с картинками и текстом. Некоторые ссылки частично перекрываются раскрытой подсказкой. Тултип исчезает при переходе к новой ссылке, но не закрывается с помощью <kbd>Esc</kbd>.</p><p><img src="images/wiki-2411-pass.png" alt="Статья про журнал «Popular Science». У ссылки на список всех выпусков открыт тултип. Подсказка частично перекрывает картинку с синей обводкой вокруг. От первого слова видны последние буквы «AR», от второго слова — «CE»."></p><p>Так как интерактивные элементы в фокусе скрываются подсказкой частично, страница соответствует критерию 2.4.11: фокус не перекрыт (минимальный).</p><p>В <a href="https://transcend.io/blog" rel="noopener">блоге Transcend</a> хедер фиксируется при прокрутке страницы вниз и вверх. При перемещении с клавиатуры по странице ни один интерактивный элемент не скрывается за хедером.</p><p><img src="images/transend-2411-pass.png" alt="Наверху страницы одного поста зафиксирована навигация из трёх пунктов. Навигация перекрывает параграф текста без ссылок. В следующем параграфе ссылка «CPRA modified regulations» обведена чёрной рамкой и полностью видна."></p><p>Страница соответствует и минимальному критерию 2.4.11, и максимальному 2.4.12: фокус не перекрыт (продвинутый).</p><p>В главной вкладке YouTube Studio автоматически появляется уведомление с интерфейсной подсказкой. Этот элемент не закрывает собой активные ссылки. Это соответствует минимальному критерию 2.4.11.</p><p><img src="images/youtube-studio-2411-pass.png" alt="Справа от боковой навигации развёрнут тултип с подсказками о командной работе с каналом. Хвостик тултипа указывает на полностью видимый пункт «Settings». Рядом с тултипом и под ним нет других интерактивных элементов."></p><h2>Примеры барьеров</h2><p>На главной сайта телекомпании <a href="https://www3.nhk.or.jp/nhkworld/" rel="noopener">NHK World Japan</a> в нижней части экрана зафиксирован куки-баннер с полупрозрачным фоном. Некоторые интерактивные элементы частично скрываются за баннером, когда навигируешься по странице с клавиатуры.</p><p>Одну из ссылок в футере баннер вообще полностью перекрывает. Цвет текста ссылки — #808080 (серый), цвет фона куки-баннера — #4c4c4c (кварцевый серый). Соотношение уровня контраста между двумя цветами — 2.17:1. Это ниже минимального значения для нетекстовых элементов (3:1). Из-за этого сайт не соответствует критерию 2.4.11 уровня AA.</p><p><img src="images/nhk-2411-fail.png" alt="Часть текста «Our site uses…» из полупрозрачного баннера накладывается на ссылку «NHK». Ссылка обведена чёрной рамкой, видна только верхняя часть букв. Рядом, на отдельном скриншоте, показана эта же ссылка, когда она полностью видна."></p><p>На сайте <a href="https://www.su.se/" rel="noopener">университета Стокгольма</a> немодальное окно с информацией про куки выровнено по центру экрана.</p><p>Немодальное окно полностью закрывает часть ссылок в фокусе. Из-за этого сайт не соответствует минимальному критерию 2.4.11.</p><p><img src="images/stockholm-uni-2411-fail.png" alt="Из-под баннера с белым фоном выглядывает часть карточки. Виден текст и половина картинки с цветочным полем. На отдельном скриншоте карточка показана полностью. Ссылка «Stockholms universitet paa plats 147 i QS-rankningen» обведена синей рамкой."></p><p>При первом открытии главной <a href="https://www.bmeia.gv.at/en/austrian-embassy-tokyo" rel="noopener">посольства Австрии в Токио</a> появляется окно с сообщением о куки. Визуально, из-за затемнённого фона, окно выглядит модальным. При этом мы всё ещё можем навигироваться по странице с клавиатуры, когда окно открыто. Из-за этого названия части полей, ссылок и кнопок полностью перекрываются. Значит, страница не соответствует критерию 2.4.11 уровня AA.</p><p><img src="images/au-embassy-fail.png" alt="Под окном с согласием на сбор куки видна часть чёрной рамки вокруг поля. Рядом скриншот с полностью видимым полем для сравнения. В поле введён текст «I am human»."></p><h2>Как тестировать</h2><p>Оба критерия можно протестировать как автоматически, так и вручную.</p><p>С автоматическим тестированием <em>теоретически</em> помогут букмарклеты.</p><p>Пока я не нашла готовых решений, которые бы одновременно показывали стили фокуса у всех интерактивных элементов и открывали нужные компоненты в верхнем слое интерфейса.</p><p>Временное полуавтоматическое решение — отдельные букмарклеты для показа стилей фокуса (<a href="https://code.jasonmorris.com/bookmarklets/show-focus-styles/" rel="noopener">Show focus styles</a>) и ручное открытие окон, дропдаунов и похожих элементов.</p><p>Для ручного тестирования понадобится клавиатура. Примерные этапы тестирования:</p><ul><li>Убедитесь, что на странице есть интерактивные элементы (кнопки, ссылки и другие).</li><li>Найдите элементы, которые накладываются поверх остального содержимого.</li><li>Пройдитесь по всем интерактивным элементам с помощью <kbd>Tab</kbd>&nbsp;и <kbd>Shift Tab</kbd>.</li><li>Повторите предыдущие шаги для других брейкпоинтов.</li></ul><p>Дополнительные шаги для элементов с полупрозрачным фоном, которые расположены выше других:</p><ul><li>Узнайте цвет фона верхнего элемента.</li><li>Определите цвет элемента в фокусе: его исходный цвет без индикатора фокуса, смешанный с фоном наложившегося элемента.</li><li>Проверьте соотношение контраста между цветами.</li></ul><p>Тестировать полупрозрачные компоненты можно с помощью инструментов для проверки контраста цветов. Например, <a href="https://www.tpgi.com/color-contrast-checker/" rel="noopener">Colour Contrast Analyser (CCA)</a> от TPGi и <a href="https://accessibleweb.com/color-contrast-checker/" rel="noopener">WCAG Color Contrast Checker</a> от Accessible Web.</p><p>Если каждый интерактивный элемент в фокусе виден полностью или частично, страница соответствует <em>2.4.11: фокус не перекрыт (минимальный)</em> уровня AA.</p><p>Если полупрозрачные элементы полностью перекрывают элементы в состоянии фокуса, а соотношение контраста между цветами составляет 3:1 и выше, страница также соответствует минимальному критерию.</p><p>Когда ни один элемент в состоянии клавиатурного фокуса не скрывается другими, страница соответствует <em>2.4.12: фокус не перекрыт (продвинутый)</em> уровня AAA.</p><h2>Что почитать</h2><ul><li><a href="https://www.w3.org/WAI/WCAG22/Understanding/focus-not-obscured-minimum.html" rel="noopener">2.4.11: фокус не перекрыт (минимальный) — WCAG 2.2</a></li><li><a href="https://www.w3.org/WAI/WCAG22/Understanding/focus-not-obscured-enhanced.html" rel="noopener">2.4.12: фокус не перекрыт (продвинутый) — WCAG 2.2</a></li><li><a href="https://design-system.service.gov.uk/components/cookie-banner/" rel="noopener">Куки-баннер — Дизайн-система GOV.UK</a></li><li><a href="https://adrianroselli.com/2023/10/2-4-11-adversarial-conformance.html" rel="noopener">2.4.11: Конфликтное соответствие</a>, Адриан Розелли</li><li><a href="https://www.tpgi.com/how-to-test-2-4-11-focus-not-obscured-minimum/" rel="noopener">Как тестировать 2.4.11: фокус не перекрыт (минимальный)</a>, TPGi</li></ul></div><section class="cards__list" aria-labelledby="section-label"><h2 class="cards_heading" id="section-label">Other articles</h2><ul class="card card--in-article"><li class="card__item card__item--compact"><a href="/en/articles/wcag-focus-not-obscured/" class="card__item-link">Focus not obscured </a><span class="card__item-details">Next <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" class="card__item-details__ico" aria-hidden="true"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></span></li></ul></section></main></div><footer class="footer"><div class="footer__container wrapper"><div class="footer__info-column"><span aria-hidden="true">ʢ·͡ᴥ·ʡ∩๐า╭∩าﾉ\ </span><small class="footer__info-text">Tatiana Fokina, 2021–2025</small></div><div class="footer__links-column"><small class="footer__info-text">Build on <a href="https://www.11ty.dev/">11ty</a>, icons by <a href="https://lucide.dev">Lucide</a> </small><small class="footer__info-text">Find an issue? Let me know on <a href="https://github.com/TatianaFokina/a11y-blog">GitHub</a></small></div></div></footer></body></html>